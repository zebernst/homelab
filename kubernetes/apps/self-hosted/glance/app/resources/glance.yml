# yaml-language-server: $schema=https://raw.githubusercontent.com/not-first/glance-schema/master/schema.json
server:
  port: 80
  proxied: true
pages:
  - name: Home
    head-widgets:
      - type: search
        search-engine: duckduckgo
        bangs:
        - title: YouTube
          shortcut: "!yt"
          url: https://www.youtube.com/results?search_query={QUERY}
    columns:
      - size: small
        widgets:
          - type: calendar
            first-day-of-week: monday

          - type: rss
            limit: 10
            collapse-after: 3
            cache: 12h
            feeds:
              - url: https://selfh.st/rss/
                title: selfh.st
                limit: 4
              - url: https://ciechanow.ski/atom.xml
              - url: https://samwho.dev/rss.xml

      - size: full
        widgets:
          - type: group
            widgets:
              - type: hacker-news
              - type: lobsters

          - type: videos
            channels:
              - UCYO_jab_esuFRV4b17AJtAw # 3Blue1Brown
              - UCIZa-t5ctYtAn6BruNTxxwQ # Clockwork

          - type: group
            widgets:
              - type: reddit
                subreddit: technology
                show-thumbnails: true
              - type: reddit
                subreddit: selfhosted
                show-thumbnails: true
              - type: reddit
                subreddit: homelab
                show-thumbnails: true

      - size: small
        widgets:
          - type: weather
            location: Chicago, Illinois, United States
            units: imperial
            hour-format: 12h # alternatively "24h"
            hide-location: true

          - type: releases
            cache: 1d
            repositories:
              - glanceapp/glance
              - kubernetes/kubernetes

  - name: Homelab
    columns:
      - size: small
        widgets:
          - title: Infrastructure
            type: monitor
            cache: 1m
            sites:
              - title: UniFi Network
                icon: si:ubiquiti
                url: https://unifi
                allow-insecure: true
              - title: NAS
                icon: mdi:nas
                url: https://dsm.zebernst.dev
                check-url: http://nas.internal:5000
              - title: UPS
                icon: mdi:power-plug-battery
                url: https://ups.internal
                allow-insecure: true

          - title: Smart Home
            type: monitor
            cache: 1m
            sites:
              - title: Home Assistant
                url: http://homeassistant.internal:8123
                icon: si:homeassistant
              - title: Zigbee Coordinator
                url: http://zigbee.internal
                icon: si:zigbee

          - title: Nodes
            type: extension
            url: http://localhost:8080/extension/nodes
            allow-potentially-dangerous-html: true
            cache: 1s

      - size: full
        widgets:
          - title: Apps
            type: extension
            url: http://localhost:8080/extension/apps
            allow-potentially-dangerous-html: true
            cache: 1s
            parameters:
              show-if: |
                namespace != "kube-system" and
                ("glance/hide" not in annotations || annotations["glance/hide"] != "true")
